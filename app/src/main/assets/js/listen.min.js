$(document).ready(function(){function e(e,t){function r(){var e=[];$.each(Roundware.selected_tags_by_category,function(t,n){e.push(t+"="+n.join(","))});window.location="roundware://project?"+e.join("&");console.log("roundware://project?"+e.join("&"))}var n=$("#container");n.isotope({itemSelector:".element",resizable:false,masonry:{columnWidth:n.width()/6},isFitWidth:true,isAnimated:!Modernizr.csstransitions});n.isotope({filter:"."+e[0]});$("#nav a").click(function(){var e=$(this).attr("data-filter");n.isotope({filter:e});return false});$.each(e,function(e,t){$("."+t).tappable(function(){var e=$(this);var n=$(this).data("tag_id");if(e.hasClass("tag")){e.removeClass("tag");e.removeClass("selected");e.addClass("unselected");$.each(Roundware.selected_tags_by_category[t],function(e,r){if(r==n){Roundware.selected_tags_by_category[t].splice(e,1);return false}})}else{e.addClass("tag");e.addClass("selected");e.removeClass("unselected");Roundware.selected_tags_by_category[t].push(n)}r()})});$(window).smartresize(function(){n.isotope({masonry:{columnWidth:n.width()/6}})});var i=new Swipe(document.getElementById("slider"),{callback:function(t,n){var r=s.length;while(r--){s[r].className=" "}s[n].className="on";if(e[n]){$("#container").isotope({filter:"."+e[n]});slider_pos=n}else{return false}}}),s=document.getElementById("position").getElementsByTagName("em");$("#prev").on("click",function(){i.prev();return false});$("#next").on("click",function(){i.next();return false});$("#select-all").on("click",function(e){select_all();console.log("clicked select all");return false})}Roundware.listen_main(e)});document.addEventListener("touchmove",function(e){e.preventDefault()},false)